# TODO: 

- Always assume that the fg video is the "better quality" video, and never should be re-timed 
- Use `tests/bg.mp4` and `tests/fg.mp4` for testing. 
- Work in rounds
- Create `PROGRESS.md` as a detailed flat plan with `[ ]` items. 
- Identify the most important TODO items, and create `TODO.md` with `[ ]` items. 
- Implement the changes. 
- Update `PROGRESS.md` and `TODO.md` as you go. 
- After each round of changes, update `CHANGELOG.md` with the changes.
- Update `README.md` to reflect the changes.

```
time python -m vidkompy --bg tests/bg.mp4 --fg tests/fg.mp4 -o tests/out4.mp4 --verbose
```

The code is kinda slow. Even though we have just an 8 seconds video with just 480 frames. See log below. 

```
23:10:38 | INFO     | __init__ - ✓ Perceptual hashing enabled (pHash)
⠋ Analyzing videos...23:10:38 | DEBUG    | get_video_info - Probing video: tests/bg.mp4
⠦ Analyzing videos...23:10:39 | INFO     | get_video_info - Video info for bg.mp4: 1920x1080, 60.00 fps, 7.85s, 472 frames, audio: yes
23:10:39 | DEBUG    | get_video_info - Probing video: tests/fg.mp4
⠸ Analyzing videos...23:10:39 | INFO     | get_video_info - Video info for fg.mp4: 1920x870, 60.89 fps, 8.04s, 483 frames, audio: yes
23:10:39 | INFO     | _log_compatibility - Video compatibility check:
23:10:39 | INFO     | _log_compatibility -   Resolution: 1920x1080 vs 1920x870
23:10:39 | INFO     | _log_compatibility -   FPS: 60.00 vs 60.89
23:10:39 | INFO     | _log_compatibility -   Duration: 7.85s vs 8.04s
23:10:39 | INFO     | _log_compatibility -   Audio: yes vs yes
⠼ Analyzing videos...           
⠧ Analyzing videos...           
⠧ Computing spatial alignment...23:10:40 | INFO     | _template_matching - Template match found at (0, 0) with confidence 0.941
⠇ Analyzing videos...            
⠇ Computing spatial alignment... 
⠇ Computing temporal alignment...23:10:40 | INFO     | align_frames - Starting frame-based temporal alignment
23:10:40 | INFO     | _align_frames_dtw - Using DTW-based temporal alignment
23:10:40 | DEBUG    | _init_hashers - ✓ PHash initialized
23:10:40 | DEBUG    | _init_hashers - ✓ AverageHash initialized
23:10:40 | DEBUG    | _init_hashers - ✓ ColorMomentHash initialized
23:10:40 | DEBUG    | _init_hashers - ✓ MarrHildrethHash initialized
23:10:40 | INFO     | _init_hashers - Initialized 4 hash algorithms
23:10:40 | INFO     | _align_frames_dtw - DTW sampling: 483 FG frames, 472 BG frames
⠧ Analyzing videos...            
⠧ Computing spatial alignment... 
⠏ Analyzing videos...            
⠏ Computing spatial alignment... 
⠇ Analyzing videos...            
⠇ Computing spatial alignment... 
⠋ Analyzing videos...            
⠋ Computing spatial alignment... 
⠇ Analyzing videos...            
⠇ Computing spatial alignment... 
23:14:26 | INFO     | align_videos - DTW completed: 483 frame alignments
⠏ Analyzing videos...            
⠏ Analyzing videos...            
⠸ Analyzing videos...            
⠧ Analyzing videos...            
⠹ Analyzing videos...            
⠼ Analyzing videos...            
⠴ Analyzing videos...            
⠸ Analyzing videos...            

real	7m23.665s
user	35m42.134s
sys	2m21.443s
```