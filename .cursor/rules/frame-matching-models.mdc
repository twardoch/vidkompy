---
description: Specifications for frame matching, similarity scoring, and temporal mapping models in video overlay system
globs: src/vidkompy/core/frame_fingerprint.py,src/vidkompy/core/temporal_alignment.py,src/vidkompy/core/dtw_aligner.py
alwaysApply: false
---


# frame-matching-models

Core frame matching and temporal alignment models implementing the intelligent video overlay system.

## Frame Fingerprinting System (Importance: 95)
- Perceptual hash generation for efficient frame comparison
- Multi-hash approach combining pHash, AverageHash and ColorMomentHash 
- Frame similarity scoring using custom Hamming distance thresholds
- Adaptive keyframe detection and extraction

## Temporal Mapping Models (Importance: 90)
- Dynamic Time Warping (DTW) alignment for optimal frame-to-frame mapping
- Zero-drift temporal synchronization preserving foreground frame timing
- Sakoe-Chiba band constraint implementation for restricted warping paths
- Keyframe interpolation system for smooth transitions

## Frame Matching Engine (Importance: 85) 
- Template-based precise matching for exact frame alignment
- Feature-based fast matching using ORB detection
- Confidence scoring for match quality assessment
- Adaptive search window optimization

## Key Implementation Files:
```
src/vidkompy/core/
├── frame_fingerprint.py    # Frame hash generation and comparison
├── temporal_alignment.py   # Frame mapping and synchronization
└── dtw_aligner.py         # Dynamic time warping implementation
```

$END$